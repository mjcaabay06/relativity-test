<div class="col-md-6 col-md-offset-3">
  <%= form_for Question.new, url: '/question', html: { class: 'form-horizontal', role: 'form' } do |f| %>
    <div class="col-md-6 col-md-offset-3">
      <div class="form-group">
        <textarea class="form-control" name="question" placeholder="Question"></textarea>
      </div>
      <div class="form-group">
        <%= select('', 'answer_status_id', AnswerStatus.all.order(:description).collect { |as| [as.description, as.id] }, { }, class: 'form-control') %>
      </div>
      <div class="form-group">
        <select id="answer_answer_ids" class="form-control" multiple="multiple" style="height: 300px" name="answer[answer_ids][]"></select>
      </div>
      <div class="form-group text-center">
        <button class="btn btn-primary" type="submit">Save</button>
      </div>
    </div>
  <% end %>
</div>

<script type="text/javascript">
  $(document).ready(function(){
    fillAnswers(2);

    $("#answer_status_id").change(function(){
      fillAnswers($(this).val());
    });
  });

  function fillAnswers(id) {
    $.get('/question/get-answers/' + id, function(html){
      $("#answer_answer_ids").html(html);
    });
  }
</script>